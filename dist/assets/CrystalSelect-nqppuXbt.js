import{_ as S,w as O,c as l,g as a,e as r,a as s,b as B,t as y,d as k,x as p,n as f,q as g,B as _,s as E,r as L,F as N,j,T as z}from"./main-CMvxnCAY.js";/* empty css                                                                      */const K={key:0,class:"select-label"},D=["onKeydown"],F={class:"trigger-content"},M={key:0,class:"crystal-dropdown"},T={class:"crystal-options-list"},q=["onClick"],A={class:"option-text"},I={key:1,class:"check-icon"},$={key:0,class:"no-options"},G={__name:"CrystalSelect",props:{modelValue:{type:[String,Number,Boolean,null],default:null},options:{type:Array,default:()=>[]},label:{type:String,default:""},placeholder:{type:String,default:"Select..."},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(n,{emit:w}){const i=n,h=w,c=L(!1),v=k(()=>i.options.map(e=>typeof e=="object"&&e!==null?{label:e.label||e.value,value:e.value,color:e.color,disabled:e.disabled||!1}:{label:String(e),value:e,color:null,disabled:!1})),d=k(()=>v.value.find(e=>e.value===i.modelValue)),C=k(()=>d.value?d.value.label:i.placeholder);function m(){i.disabled||(c.value=!c.value)}function b(){c.value=!1}function V(e){e.disabled||(h("update:modelValue",e.value),h("change",e.value),b())}const x={mounted(e,u){e.clickOutsideEvent=o=>{e===o.target||e.contains(o.target)||u.value(o)},document.body.addEventListener("click",e.clickOutsideEvent)},unmounted(e){document.body.removeEventListener("click",e.clickOutsideEvent)}};return(e,u)=>{var o;return O((a(),l("div",{class:f(["crystal-select-container",{"is-open":c.value,"is-disabled":n.disabled}])},[n.label?(a(),l("label",K,y(n.label),1)):r("",!0),s("div",{class:"crystal-select-trigger",onClick:m,tabindex:"0",onKeydown:[g(_(m,["prevent"]),["space"]),g(_(m,["prevent"]),["enter"]),g(b,["esc"])]},[s("div",F,[(o=d.value)!=null&&o.color?(a(),l("span",{key:0,class:"marker-indicator",style:p({backgroundColor:d.value.color})},null,4)):r("",!0),s("span",{class:f(["trigger-text",{placeholder:!n.modelValue}])},y(C.value),3)]),u[0]||(u[0]=s("div",{class:"select-arrow"},[s("svg",{viewBox:"0 0 10 6",width:"10",height:"6"},[s("path",{d:"M1 1L5 5L9 1",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))],40,D),B(z,{name:"dropdown"},{default:E(()=>[c.value?(a(),l("div",M,[s("div",T,[(a(!0),l(N,null,j(v.value,t=>(a(),l("div",{key:t.value,class:f(["crystal-option",{"is-selected":t.value===n.modelValue,"is-disabled":t.disabled}]),onClick:H=>V(t)},[t.color?(a(),l("span",{key:0,class:"marker-indicator",style:p({backgroundColor:t.color})},null,4)):r("",!0),s("span",A,y(t.label),1),t.value===n.modelValue?(a(),l("span",I,"âœ“")):r("",!0)],10,q))),128)),v.value.length===0?(a(),l("div",$," No options available ")):r("",!0)])])):r("",!0)]),_:1})],2)),[[x,b]])}}},Q=S(G,[["__scopeId","data-v-4e332e3b"]]);export{Q as C};
