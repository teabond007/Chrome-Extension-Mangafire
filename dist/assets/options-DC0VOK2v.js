import{u as E,c as as}from"./useLibrary-nMZNzvsG.js";import{b as O,w as ls,i as os,c as n,o as r,a as s,j as b,k,n as f,r as S,g as u,l as o,v as D,u as l,p as i,e as is,q as U,s as j,x as F,f as w,F as G,y as $,t as c,z as ns,h as rs}from"./storage-schema-DbDZlffU.js";import{u as ds}from"./useSettings-DkjDRh14.js";import"./config-C-HYl_Rw.js";const ps={class:"app-container"},us={class:"sidebar"},cs={class:"nav-menu"},vs={class:"main-content"},gs={class:"tab-pane active fade-in"},bs={class:"content-grid"},ms={class:"card"},ys={class:"card-body"},hs={class:"input-group-row"},fs={class:"feature-toggle-wrapper"},ws={class:"switch"},xs={class:"feature-toggle-wrapper"},ks={class:"switch"},Ss={class:"feature-toggle-wrapper"},Cs={class:"switch"},Ds={class:"card"},As={class:"card-body"},Ms={class:"feature-toggle-wrapper"},Rs={class:"switch"},Bs={class:"feature-toggle-wrapper",style:{"margin-top":"10px"}},Ls={class:"switch"},Vs={class:"feature-toggle-wrapper",style:{"margin-top":"10px"}},Es={class:"switch"},Us={class:"feature-toggle-wrapper",style:{"margin-top":"10px"}},Fs={class:"switch"},Hs={class:"card"},Ts={class:"card-body"},_s={class:"feature-toggle-wrapper"},Is={class:"switch"},Ps={class:"feature-toggle-wrapper",style:{"margin-top":"10px"}},Ns={class:"switch"},zs={class:"feature-toggle-wrapper",style:{"margin-top":"10px"}},Os={class:"switch"},js={class:"card"},Gs={class:"card-body"},$s={class:"feature-toggle-wrapper"},Js={class:"switch"},Ys={class:"feature-toggle-wrapper",style:{"margin-top":"10px"}},Ws={class:"switch"},Ks={class:"card"},Zs={class:"card-body"},qs={class:"feature-toggle-wrapper"},Xs={class:"switch"},Qs={class:"feature-toggle-wrapper",style:{"margin-top":"10px"}},se={class:"switch"},ee={class:"tab-pane active fade-in"},te={class:"content-grid",style:{"max-width":"100%"}},ae={class:"library-header"},le={class:"library-title-section"},oe={class:"library-title-text"},ie={style:{display:"flex","align-items":"center",gap:"8px"}},ne={class:"info-redirect-btn","data-target":"guide-entries",title:"How to use Saved Entries"},re={class:"icon-svg icon-info",style:{width:"16px",height:"16px"}},de={class:"library-controls"},pe={class:"manga-grid",id:"manga-grid"},ue=["data-id","onClick"],ce={class:"manga-card-cover-container"},ve=["src"],ge={class:"manga-card-overlay"},be=["onClick"],me={class:"icon-svg icon-info",style:{filter:"invert(1)",width:"20px",height:"20px"}},ye={key:0,class:"manga-card-progress-bar"},he={class:"manga-card-info"},fe={class:"manga-card-header"},we={key:0,class:"format-badge"},xe=["title"],ke={class:"manga-card-meta"},Se={class:"chapter-info"},Ce={key:0,class:"total-chapters"},De={key:0,class:"empty-state",style:{"grid-column":"1/-1","text-align":"center",padding:"40px"}},Ae={class:"tab-pane active fade-in"},Me={class:"content-grid export-import-grid"},Re={class:"card secondary-bg-card"},Be={class:"card-header"},Le={class:"card-icon blue-icon"},Ve={class:"icon-svg icon-export",style:{width:"20px",height:"20px"}},Ee={class:"export-options"},Ue={class:"export-checkboxes"},Fe={class:"export-option"},He={class:"export-count",id:"exportLibraryCount"},Te={class:"export-option"},_e={class:"export-option"},Ie={class:"export-option"},Pe={class:"export-option"},Ne={class:"inner-info-card"},ze={class:"icon-svg icon-export",style:{width:"16px",height:"16px"}},Oe={class:"card secondary-bg-card"},je={class:"card-header"},Ge={class:"card-icon purple-icon"},$e={class:"icon-svg icon-import",style:{width:"20px",height:"20px"}},Je={class:"card-title-group"},Ye={style:{display:"flex","align-items":"center",gap:"8px"}},We={class:"info-redirect-btn","data-target":"guide-backup",title:"About Backup & Restore"},Ke={class:"icon-svg icon-info",style:{width:"16px",height:"16px"}},Ze={class:"drop-zone-content"},qe={class:"drop-zone-icon"},Xe={class:"icon-svg icon-file",style:{width:"24px",height:"24px"}},Qe={key:0,class:"drop-zone-text"},st={key:1,class:"drop-zone-text"},et={class:"import-actions-row"},tt={class:"feature-toggle-wrapper"},at={class:"switch"},lt=["disabled"],ot={class:"icon-svg icon-plus",style:{width:"16px",height:"16px"}},it={class:"tab-pane active fade-in"},nt={class:"content-grid"},rt={class:"card"},dt={class:"card-header"},pt={class:"info-redirect-btn","data-target":"guide-personalization",title:"About Themes"},ut={class:"icon-svg icon-info",style:{width:"16px",height:"16px"}},ct={style:{display:"grid","grid-template-columns":"1fr 1fr",gap:"20px","margin-top":"20px"}},vt={class:"card full-height"},gt={class:"card-body"},bt={class:"feature-toggle-wrapper"},mt={class:"range-header"},yt={id:"rangeValue",style:{color:"var(--primary)","font-weight":"bold"}},ht={class:"card full-height"},ft={class:"card-body"},wt={class:"feature-toggle-wrapper"},xt={class:"switch"},kt={class:"feature-toggle-wrapper"},St={class:"switch"},Ct={class:"range-header"},Dt={id:"libraryBorderValue",style:{color:"var(--primary)","font-weight":"bold"}},At={class:"feature-toggle-wrapper"},Mt={class:"switch"},Rt={class:"feature-toggle-wrapper"},Bt={class:"switch"},Lt={class:"feature-toggle-wrapper"},Vt={class:"switch"},Et={class:"feature-toggle-wrapper"},Ut={class:"switch"},Ft={class:"tab-pane active fade-in"},Ht={class:"icon-svg icon-arrow-up",style:{width:"20px",height:"20px"}},Tt={key:0,class:"modal-container"},_t={class:"modal-layout"},It={class:"modal-sidebar"},Pt=["src"],Nt={class:"modal-sidebar-info"},zt={class:"modal-meta-row"},Ot={class:"modal-meta-row"},jt={class:"format-badge"},Gt={class:"modal-meta-row"},$t={class:"modal-meta-value"},Jt={class:"modal-meta-row"},Yt={class:"modal-score"},Wt={class:"score-value"},Kt={class:"modal-meta-row"},Zt={class:"modal-meta-value"},qt={class:"modal-main"},Xt={key:0,class:"modal-synonyms"},Qt={class:"modal-genres"},sa={class:"modal-description"},ea=["innerHTML"],ta={class:"modal-external-links"},aa=["href"],la=["href"],oa={__name:"App",setup(na){const v=S("settings"),{settings:a,updateSettings:H,loadSettings:Y}=ds(),{filteredEntries:T,stats:W,searchQuery:A,statusFilter:M,sortBy:h,sortDesc:R}=E();O(async()=>{await Y(),console.log("Settings loaded:",a.value)}),ls(a,async p=>{await H(p)},{deep:!0});const _=is({get:()=>h.value==="title"?R.value?"title-desc":"title-asc":h.value==="popularity"?R.value?"pop-desc":"pop-asc":h.value==="averageScore"?"score-desc":"lastReadDate-desc",set:p=>{const[e,g]=p.split("-");e==="title"?h.value="title":e==="pop"?h.value="popularity":e==="score"?h.value="averageScore":e==="rating"?h.value="personalData.rating":e==="added"?h.value="createdAt":e==="last"&&(h.value="lastReadDate"),R.value=g==="desc"}});function I(p){return p.coverImage||p.cover||"assets/images/placeholder.jpg"}function K(p){p&&window.open(p,"_blank")}const d=S(null),B=S(!1);function Z(p){d.value=p,B.value=!0}function P(){B.value=!1,d.value=null}const m=S({library:!0,history:!0,settings:!0,personal:!0,cache:!1}),L=S(!0),x=S(null);function q(){const{entries:p}=E(),e={version:"4.0.0",timestamp:Date.now(),settings:m.value.settings?a.value:void 0,library:m.value.library||m.value.history||m.value.personal?p.value:void 0},g=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),t=URL.createObjectURL(g),y=document.createElement("a");y.href=t,y.download=`mangafire_backup_${new Date().toISOString().slice(0,10)}.json`,y.click(),URL.revokeObjectURL(t)}function X(p){const e=p.target.files[0];e&&(x.value=e)}function Q(){const p=document.getElementById("importDataInput");p&&p.click()}async function ss(){if(!x.value)return;const p=new FileReader;p.onload=async e=>{try{const g=JSON.parse(e.target.result),{entries:t}=E();if(g.settings&&(a.value={...a.value,...g.settings},await H(a.value)),g.library&&Array.isArray(g.library))if(L.value){const y=[...t.value];g.library.forEach(C=>{const V=y.findIndex(ts=>ts.id===C.id);V!==-1?y[V]={...y[V],...C}:y.push(C)}),t.value=y}else t.value=g.library;alert("Import successful!"),x.value=null}catch(g){console.error("Import failed",g),alert("Failed to import data: Invalid format.")}},p.readAsText(x.value)}const N=S(!1);function z(){N.value=window.scrollY>300}function es(){window.scrollTo({top:0,behavior:"smooth"})}return O(()=>{window.addEventListener("scroll",z)}),os(()=>{window.removeEventListener("scroll",z)}),(p,e)=>{var g;return r(),n("div",ps,[s("aside",us,[e[43]||(e[43]=s("div",{class:"brand"},[s("div",{class:"brand-icon"},[s("span",{class:"icon-svg icon-brand"})]),s("span",{class:"brand-name header-text-gradient"},"Color Marker")],-1)),s("nav",cs,[s("a",{href:"#",class:f(["nav-item",{active:v.value==="settings"}]),onClick:e[0]||(e[0]=k(t=>v.value="settings",["prevent"]))},[...e[37]||(e[37]=[s("span",{class:"nav-icon"},"‚öôÔ∏è",-1),u(" General Settings ",-1)])],2),s("a",{href:"#",class:f(["nav-item",{active:v.value==="saved-entries"}]),onClick:e[1]||(e[1]=k(t=>v.value="saved-entries",["prevent"]))},[...e[38]||(e[38]=[s("span",{class:"nav-icon"},"üìö",-1),u(" Saved Entries ",-1)])],2),s("a",{href:"#",class:f(["nav-item",{active:v.value==="import-export"}]),onClick:e[2]||(e[2]=k(t=>v.value="import-export",["prevent"]))},[...e[39]||(e[39]=[s("span",{class:"nav-icon"},"üìÇ",-1),u(" Import & Export ",-1)])],2),s("a",{href:"#",class:f(["nav-item",{active:v.value==="appearance"}]),onClick:e[3]||(e[3]=k(t=>v.value="appearance",["prevent"]))},[...e[40]||(e[40]=[s("span",{class:"nav-icon"},"üé®",-1),u(" Appearance ",-1)])],2),s("a",{href:"#",class:f(["nav-item",{active:v.value==="about"}]),onClick:e[4]||(e[4]=k(t=>v.value="about",["prevent"]))},[...e[41]||(e[41]=[s("span",{class:"nav-icon"},"‚ÑπÔ∏è",-1),u(" About ",-1)])],2),e[42]||(e[42]=s("div",{class:"nav-indicator"},null,-1))]),e[44]||(e[44]=b('<div class="sidebar-footer"><a href="https://www.buymeacoffee.com" target="_blank" class="sidebar-btn support-sidebar-btn" title="Support Developer"><span class="icon">‚òï</span><span class="label">Support Dev</span></a><div class="version-info">Version 4.0.0 (Vue)</div></div>',1))]),s("main",vs,[o(s("div",gs,[e[78]||(e[78]=s("header",{class:"header"},[s("div",{class:"header-text"},[s("h1",null,"Settings"),s("p",{class:"subtitle"},"Configure your custom bookmarks for MangaFire.to, manage sync, and display preferences.")])],-1)),s("div",bs,[s("div",ms,[e[51]||(e[51]=s("div",{class:"card-header"},[s("div",{class:"card-icon"},"‚öôÔ∏è"),s("h3",null,"General Preferences")],-1)),s("div",ys,[s("div",hs,[s("div",fs,[e[46]||(e[46]=s("div",{class:"toggle-label-group"},[s("label",{class:"toggle-main-label"},"Mark Homepage"),s("span",{class:"toggle-sub-label"},"Highlight manga on the homepage")],-1)),s("label",ws,[o(s("input",{type:"checkbox",id:"MarkHomePage","onUpdate:modelValue":e[5]||(e[5]=t=>l(a).general.markHomePage=t)},null,512),[[i,l(a).general.markHomePage]]),e[45]||(e[45]=s("span",{class:"slider round"},null,-1))])]),s("div",xs,[e[48]||(e[48]=s("div",{class:"toggle-label-group"},[s("label",{class:"toggle-main-label"},"Sync & Mark Read"),s("span",{class:"toggle-sub-label"},"Sync history and mark as read")],-1)),s("label",ks,[o(s("input",{type:"checkbox",id:"SyncandMarkRead","onUpdate:modelValue":e[6]||(e[6]=t=>l(a).general.syncAndMarkRead=t)},null,512),[[i,l(a).general.syncAndMarkRead]]),e[47]||(e[47]=s("span",{class:"slider round"},null,-1))])]),s("div",Ss,[e[50]||(e[50]=s("div",{class:"toggle-label-group"},[s("label",{class:"toggle-main-label"},"Family Friendly"),s("span",{class:"toggle-sub-label"},"Hide Ecchi/Adult content")],-1)),s("label",Cs,[o(s("input",{type:"checkbox",id:"FamilyFriendly","onUpdate:modelValue":e[7]||(e[7]=t=>l(a).general.familyFriendly=t)},null,512),[[i,l(a).general.familyFriendly]]),e[49]||(e[49]=s("span",{class:"slider round"},null,-1))])])])])]),s("div",Ds,[e[60]||(e[60]=s("div",{class:"card-header"},[s("div",{class:"card-icon",style:{background:"rgba(79, 70, 229, 0.1)",color:"var(--primary)"}},"‚ö°"),s("h3",null,"Smart Automation")],-1)),s("div",As,[s("div",Ms,[e[53]||(e[53]=s("div",{class:"toggle-label-group"},[s("label",{class:"toggle-main-label"},"Smart Auto-Complete"),s("span",{class:"toggle-sub-label"},"Mark as 'Completed' when reaching last chapter")],-1)),s("label",Rs,[o(s("input",{type:"checkbox",id:"SmartAutoComplete","onUpdate:modelValue":e[8]||(e[8]=t=>l(a).automation.smartAutoComplete=t)},null,512),[[i,l(a).automation.smartAutoComplete]]),e[52]||(e[52]=s("span",{class:"slider round"},null,-1))])]),s("div",Bs,[e[55]||(e[55]=s("div",{class:"toggle-label-group"},[s("label",{class:"toggle-main-label"},"Inactivity Dimming"),s("span",{class:"toggle-sub-label"},"Dim 'Reading' manga untouched for 30+ days")],-1)),s("label",Ls,[o(s("input",{type:"checkbox",id:"SmartInactivityFade","onUpdate:modelValue":e[9]||(e[9]=t=>l(a).automation.smartInactivityFade=t)},null,512),[[i,l(a).automation.smartInactivityFade]]),e[54]||(e[54]=s("span",{class:"slider round"},null,-1))])]),s("div",Vs,[e[57]||(e[57]=s("div",{class:"toggle-label-group"},[s("label",{class:"toggle-main-label"},"Smart Resume"),s("span",{class:"toggle-sub-label"},"Dashboard opens next chapter (Predictive)")],-1)),s("label",Es,[o(s("input",{type:"checkbox",id:"SmartResumeLink","onUpdate:modelValue":e[10]||(e[10]=t=>l(a).automation.smartResumeLink=t)},null,512),[[i,l(a).automation.smartResumeLink]]),e[56]||(e[56]=s("span",{class:"slider round"},null,-1))])]),s("div",Us,[e[59]||(e[59]=s("div",{class:"toggle-label-group"},[s("label",{class:"toggle-main-label"},"New Chapter Alerts"),s("span",{class:"toggle-sub-label"},"Browser notifications for new releases")],-1)),s("label",Fs,[o(s("input",{type:"checkbox",id:"NotificationsEnabled","onUpdate:modelValue":e[11]||(e[11]=t=>l(a).automation.notificationsEnabled=t)},null,512),[[i,l(a).automation.notificationsEnabled]]),e[58]||(e[58]=s("span",{class:"slider round"},null,-1))])])])]),s("div",Hs,[e[67]||(e[67]=s("div",{class:"card-header"},[s("div",{class:"card-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"}},"üìö"),s("h3",null,"Reader Enhancements")],-1)),s("div",Ts,[s("div",_s,[e[62]||(e[62]=s("div",{class:"toggle-label-group"},[s("label",{class:"toggle-main-label"},"Auto-Scroll Panel"),s("span",{class:"toggle-sub-label"},"Show floating auto-scroll controls on reader pages")],-1)),s("label",Is,[o(s("input",{type:"checkbox",id:"AutoScrollEnabled","onUpdate:modelValue":e[12]||(e[12]=t=>l(a).reader.autoScrollEnabled=t)},null,512),[[i,l(a).reader.autoScrollEnabled]]),e[61]||(e[61]=s("span",{class:"slider round"},null,-1))])]),s("div",Ps,[e[64]||(e[64]=s("div",{class:"toggle-label-group"},[s("label",{class:"toggle-main-label"},"Keyboard Shortcuts"),s("span",{class:"toggle-sub-label"},"Arrow keys, Space (auto-scroll), F (fullscreen)")],-1)),s("label",Ns,[o(s("input",{type:"checkbox",id:"KeybindsEnabled","onUpdate:modelValue":e[13]||(e[13]=t=>l(a).reader.keybindsEnabled=t)},null,512),[[i,l(a).reader.keybindsEnabled]]),e[63]||(e[63]=s("span",{class:"slider round"},null,-1))])]),s("div",zs,[e[66]||(e[66]=s("div",{class:"toggle-label-group"},[s("label",{class:"toggle-main-label"},"Auto-Save Progress"),s("span",{class:"toggle-sub-label"},"Automatically save chapter progress while reading")],-1)),s("label",Os,[o(s("input",{type:"checkbox",id:"ProgressTrackingEnabled","onUpdate:modelValue":e[14]||(e[14]=t=>l(a).reader.progressTrackingEnabled=t)},null,512),[[i,l(a).reader.progressTrackingEnabled]]),e[65]||(e[65]=s("span",{class:"slider round"},null,-1))])])])]),s("div",js,[e[72]||(e[72]=s("div",{class:"card-header"},[s("div",{class:"card-icon",style:{background:"rgba(255, 103, 64, 0.1)",color:"#FF6740"}},"üìñ"),s("h3",null,"MangaDex Highlighting")],-1)),s("div",Gs,[s("div",$s,[e[69]||(e[69]=s("div",{class:"toggle-label-group"},[s("label",{class:"toggle-main-label"},"Enable MangaDex Highlighting"),s("span",{class:"toggle-sub-label"},"Show colored borders on mangadex.org")],-1)),s("label",Js,[o(s("input",{type:"checkbox",id:"MangaDexHighlightEnabled","onUpdate:modelValue":e[15]||(e[15]=t=>l(a).platforms.mangadex.highlight=t)},null,512),[[i,l(a).platforms.mangadex.highlight]]),e[68]||(e[68]=s("span",{class:"slider round"},null,-1))])]),s("div",Ys,[e[71]||(e[71]=s("div",{class:"toggle-label-group"},[s("label",{class:"toggle-main-label"},"Show Reading Progress"),s("span",{class:"toggle-sub-label"},'Display "Ch. X/Y" on saved manga cards')],-1)),s("label",Ws,[o(s("input",{type:"checkbox",id:"MangaDexShowProgress","onUpdate:modelValue":e[16]||(e[16]=t=>l(a).platforms.mangadex.showProgress=t)},null,512),[[i,l(a).platforms.mangadex.showProgress]]),e[70]||(e[70]=s("span",{class:"slider round"},null,-1))])])])]),s("div",Ks,[e[77]||(e[77]=s("div",{class:"card-header"},[s("div",{class:"card-icon",style:{background:"rgba(0, 220, 100, 0.1)",color:"#00DC64"}},"üì∫"),s("h3",null,"Webtoons Highlighting")],-1)),s("div",Zs,[s("div",qs,[e[74]||(e[74]=s("div",{class:"toggle-label-group"},[s("label",{class:"toggle-main-label"},"Enable Webtoons Highlighting"),s("span",{class:"toggle-sub-label"},"Show colored borders on webtoons.com")],-1)),s("label",Xs,[o(s("input",{type:"checkbox",id:"WebtoonsHighlightEnabled","onUpdate:modelValue":e[17]||(e[17]=t=>l(a).platforms.webtoons.highlight=t)},null,512),[[i,l(a).platforms.webtoons.highlight]]),e[73]||(e[73]=s("span",{class:"slider round"},null,-1))])]),s("div",Qs,[e[76]||(e[76]=s("div",{class:"toggle-label-group"},[s("label",{class:"toggle-main-label"},"Show Reading Progress"),s("span",{class:"toggle-sub-label"},'Display "Ep. X/Y" on saved webtoon cards')],-1)),s("label",se,[o(s("input",{type:"checkbox",id:"WebtoonsShowProgress","onUpdate:modelValue":e[18]||(e[18]=t=>l(a).platforms.webtoons.showProgress=t)},null,512),[[i,l(a).platforms.webtoons.showProgress]]),e[75]||(e[75]=s("span",{class:"slider round"},null,-1))])])])])])],512),[[D,v.value==="settings"]]),o(s("div",ee,[e[92]||(e[92]=b('<header class="header"><div class="header-text"><h1>Saved Entries</h1><p class="subtitle">Browse and manage your manga library</p></div><div class="header-actions"><button id="BtnShowStats" class="btn btn-ghost btn-sm">üìä Stats</button><button id="BtnCleanLibrary" class="btn btn-ghost btn-sm" title="Remove Duplicates">üßπ Clean</button><button id="BtnTrashAndSyncEntries" class="btn btn-warning-large">‚ö°Fresh Sync Entries</button></div></header>',1)),s("div",te,[e[90]||(e[90]=b('<div id="library-stats-container" class="stats-dashboard-card glass-card"><div class="stats-header"><h3>Library Statistics</h3></div><div class="stats-grid-compact" id="stats-dashboard-grid"></div></div><div id="bulk-ops-bar" class="bulk-ops-bar glass-card" style="display:none;"><div class="bulk-info"><span id="bulk-count-label">0 items selected</span></div><div class="bulk-actions"><span>Update All Filtered to:</span><select id="bulkStatusSelect" class="select-field sm"><option value="Reading">Reading</option><option value="Completed">Completed</option><option value="On Hold">On Hold</option><option value="Plan to Read">Plan to Read</option><option value="Dropped">Dropped</option><option value="HasHistory">Has History</option></select><button id="btnApplyBulkUpdate" class="btn btn-primary btn-sm">Apply Update</button><button id="btnCloseBulkOps" class="btn btn-ghost btn-sm">√ó</button></div></div>',2)),s("div",ae,[s("div",le,[e[82]||(e[82]=s("div",{class:"library-icon"},"üìö",-1)),s("div",oe,[s("div",ie,[e[79]||(e[79]=s("h2",null,"Your Library",-1)),e[80]||(e[80]=s("button",{id:"btnToggleBulk",class:"btn btn-ghost btn-sm",title:"Bulk Selection"},"Bulk",-1)),s("button",ne,[(r(),n("svg",re))])]),e[81]||(e[81]=s("p",{class:"library-subtitle",id:"library-subtitle"},"Loading...",-1))])]),s("div",de,[o(s("select",{id:"savedSortFilter",class:"select-field",style:{width:"140px"},"onUpdate:modelValue":e[19]||(e[19]=t=>_.value=t)},[...e[83]||(e[83]=[b('<option value="title-asc">A-Z</option><option value="title-desc">Z-A</option><option value="pop-desc">Most Popular</option><option value="pop-asc">Least Popular</option><option value="score-desc">Highest Score</option><option value="rating-desc">My Rating ‚Üì</option><option value="rating-asc">My Rating ‚Üë</option><option value="added-desc">Recently Added</option><option value="last-read-desc">Recently Read</option>',9)])],512),[[U,_.value]]),e[85]||(e[85]=b('<select id="savedDemographicFilter" class="select-field"><option value="All">All Demographics</option><option value="Shonen">Shonen</option><option value="Seinen">Seinen</option><option value="Shoujo">Shoujo</option><option value="Josei">Josei</option></select>',1)),o(s("select",{id:"savedStatusFilter",class:"select-field","onUpdate:modelValue":e[20]||(e[20]=t=>j(M)?M.value=t:null)},[...e[84]||(e[84]=[b('<option value="ALL">All Statuses</option><option value="Reading">Reading</option><option value="Completed">Completed</option><option value="On Hold">On Hold</option><option value="Plan to Read">Plan to Read</option><option value="Dropped">Dropped</option><option value="HasHistory">Has History</option>',7)])],512),[[U,l(M)]]),e[86]||(e[86]=b('<select id="savedGenreFilter" class="select-field"><option value="All">All Genres</option></select><select id="savedFormatFilter" class="select-field"><option value="All">All Formats</option><option value="Manga">Manga</option><option value="Manhwa">Manhwa</option><option value="Manhua">Manhua</option><option value="One Shot">One Shot</option><option value="Light Novel">Light Novel</option></select>',2)),o(s("input",{type:"text",id:"savedSearchInput",placeholder:"Search titles...",class:"input-field","onUpdate:modelValue":e[21]||(e[21]=t=>j(A)?A.value=t:null)},null,512),[[F,l(A)]]),e[87]||(e[87]=b('<div class="view-toggle-group"><button id="view-compact-btn" class="view-toggle-btn" title="Compact View"><svg class="icon-svg icon-view-compact"></svg></button><button id="view-large-btn" class="view-toggle-btn active" title="Large View"><svg class="icon-svg icon-view-large"></svg></button></div>',1))]),e[88]||(e[88]=b('<div class="library-controls-advanced"><div class="advanced-filter-group"><label class="filter-label">Chapters:</label><div class="chapter-range-wrapper"><input type="number" id="chapterMinFilter" class="input-field input-sm" placeholder="Min" min="0" style="width:70px;"><span class="range-separator">‚Äì</span><input type="number" id="chapterMaxFilter" class="input-field input-sm" placeholder="Max" min="0" style="width:70px;"></div></div><div class="advanced-filter-group"><label class="filter-label">Updated:</label><select id="lastUpdatedFilter" class="select-field select-sm"><option value="all">Any Time</option><option value="7d">Last 7 Days</option><option value="30d">Last 30 Days</option><option value="90d">Last 90 Days</option><option value="year">Last Year</option></select></div><div class="advanced-filter-group quick-filters"><button id="filterBingeworthy" class="btn btn-ghost btn-sm filter-preset-btn" title="100+ chapters"> üî• Binge-worthy </button><button id="filterNewChapters" class="btn btn-ghost btn-sm filter-preset-btn" title="Manga with unread chapters"> ‚ú® New Chapters </button><button id="filterClearAdvanced" class="btn btn-ghost btn-sm filter-preset-btn" title="Clear all filters"> ‚úï Clear </button></div></div>',1))]),e[91]||(e[91]=b('<div class="loading-progress" id="loading-progress" style="display:none;"><div class="progress-text"><span id="progress-text">Fetching data...</span><span id="progress-percent">0%</span></div><div class="progress-bar-container"><div class="progress-bar-fill" id="progress-bar-fill" style="width:0%;"></div></div></div>',1)),s("div",pe,[(r(!0),n(G,null,$(l(T),t=>{var y;return r(),n("div",{key:t.id,class:"manga-card","data-id":t.id,onClick:C=>K(t.url)},[s("div",ce,[s("img",{src:I(t),class:"manga-card-cover",loading:"lazy",alt:"Cover"},null,8,ve),s("div",ge,[s("button",{class:"icon-btn",title:"View Details",onClick:k(C=>Z(t),["stop"])},[(r(),n("svg",me))],8,be)]),l(a).appearance.libraryData.progressBars?(r(),n("div",ye,[s("div",{class:"progress-fill",style:ns({width:(t.lastReadChapter||0)/(t.totalChapters||1)*100+"%"})},null,4)])):w("",!0)]),s("div",he,[s("div",fe,[s("span",{class:f(["manga-card-status",(y=t.status)==null?void 0:y.toLowerCase().replace(" ","-")])},c(t.status),3),t.format?(r(),n("span",we,c(t.format),1)):w("",!0)]),s("h3",{class:"manga-card-title",title:t.title},c(t.title),9,xe),s("div",ke,[s("span",Se,[u(c(t.lastReadChapter?"Ch. "+t.lastReadChapter:"Not started")+" ",1),t.totalChapters?(r(),n("span",Ce,"/ "+c(t.totalChapters),1)):w("",!0)])])])],8,ue)}),128)),l(T).length===0?(r(),n("div",De,[...e[89]||(e[89]=[s("p",{style:{color:"var(--text-secondary)"}},"No entries found matching your filters.",-1)])])):w("",!0)])])],512),[[D,v.value==="saved-entries"]]),o(s("div",Ae,[e[110]||(e[110]=s("header",{class:"header"},[s("div",{class:"header-text"},[s("h1",null,"Import & Export"),s("p",{class:"subtitle"},"Manage your manga bookmarks and reading history. Keep your data safe or transfer it to another machine.")])],-1)),s("div",Me,[s("div",Re,[s("div",Be,[s("div",Le,[(r(),n("svg",Ve))]),e[93]||(e[93]=b('<div class="card-title-group"><div style="display:flex;align-items:center;gap:8px;"><h3>Export Data</h3><button class="info-redirect-btn" data-target="guide-backup" title="About Backup &amp; Restore"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg></button></div><p class="description compact">Generate a backup of your library and settings.</p></div>',1))]),s("div",Ee,[e[99]||(e[99]=s("p",{class:"section-label"},"Include in export:",-1)),s("div",Ue,[s("label",Fe,[o(s("input",{type:"checkbox",id:"exportLibrary","onUpdate:modelValue":e[22]||(e[22]=t=>m.value.library=t)},null,512),[[i,m.value.library]]),e[94]||(e[94]=s("span",null,"üìö Library Entries",-1)),s("span",He,c(l(W).total),1)]),s("label",Te,[o(s("input",{type:"checkbox",id:"exportHistory","onUpdate:modelValue":e[23]||(e[23]=t=>m.value.history=t)},null,512),[[i,m.value.history]]),e[95]||(e[95]=s("span",null,"üìñ Reading History",-1))]),s("label",_e,[o(s("input",{type:"checkbox",id:"exportSettings","onUpdate:modelValue":e[24]||(e[24]=t=>m.value.settings=t)},null,512),[[i,m.value.settings]]),e[96]||(e[96]=s("span",null,"‚öôÔ∏è Settings",-1))]),s("label",Ie,[o(s("input",{type:"checkbox",id:"exportPersonalData","onUpdate:modelValue":e[25]||(e[25]=t=>m.value.personal=t)},null,512),[[i,m.value.personal]]),e[97]||(e[97]=s("span",null,"üè∑Ô∏è Tags, Notes & Ratings",-1))]),s("label",Pe,[o(s("input",{type:"checkbox",id:"exportCache","onUpdate:modelValue":e[26]||(e[26]=t=>m.value.cache=t)},null,512),[[i,m.value.cache]]),e[98]||(e[98]=s("span",null,"üíæ AniList Cache",-1))])])]),s("div",Ne,[e[101]||(e[101]=s("div",{class:"format-info"},[s("span",{class:"label-info"},[u("Format: "),s("span",{class:"highlight-text"},"JSON")])],-1)),s("button",{id:"exportDataBtn",class:"btn btn-primary btn-with-icon",onClick:q},[(r(),n("svg",ze)),e[100]||(e[100]=u(" Export Selected ",-1))])]),e[102]||(e[102]=s("div",{class:"card-footer-info"},[s("span",{class:"status-icon"},"‚ÑπÔ∏è"),s("span",{class:"status-text-muted"},[u("Last backup: "),s("span",{id:"lastBackupDisplay"},"Never")])],-1))]),s("div",Oe,[s("div",je,[s("div",Ge,[(r(),n("svg",$e))]),s("div",Je,[s("div",Ye,[e[103]||(e[103]=s("h3",null,"Import Data",-1)),s("button",We,[(r(),n("svg",Ke))])]),e[104]||(e[104]=s("p",{class:"description compact"},"Restore your data from a previously exported file.",-1))])]),s("div",{class:"drop-zone-container",id:"dropZone",onClick:Q},[s("input",{type:"file",id:"importDataInput",accept:".json,.xml",style:{display:"none"},onChange:X},null,32),s("div",Ze,[s("div",qe,[(r(),n("svg",Xe))]),x.value?(r(),n("span",st,c(x.value.name),1)):(r(),n("span",Qe,"Click to upload or drag and drop")),e[105]||(e[105]=s("span",{class:"drop-zone-subtext"},"Supports .json files",-1))])]),s("div",et,[s("div",tt,[e[107]||(e[107]=s("div",{class:"toggle-label-group"},[s("span",{class:"toggle-main-label"},"Merge with current data")],-1)),s("label",at,[o(s("input",{type:"checkbox",id:"mergeImportToggle","onUpdate:modelValue":e[27]||(e[27]=t=>L.value=t)},null,512),[[i,L.value]]),e[106]||(e[106]=s("span",{class:"slider round"},null,-1))])]),s("button",{id:"startImportBtn",class:"btn btn-primary btn-with-icon",onClick:ss,disabled:!x.value},[(r(),n("svg",ot)),e[108]||(e[108]=u(" Start Import ",-1))],8,lt)]),e[109]||(e[109]=s("div",{class:"caution-banner"},[s("div",{class:"caution-icon"},"‚ö†Ô∏è"),s("div",{class:"caution-text"},[s("strong",null,"Caution:"),u(' If "Merge with current data" is disabled, all existing bookmarks will be overwritten. ')])],-1))])])],512),[[D,v.value==="import-export"]]),o(s("div",it,[e[137]||(e[137]=s("header",{class:"header"},[s("div",{class:"header-text"},[s("h1",null,"Appearance"),s("p",{class:"subtitle"},"Customize the look and feel of your extension and dashboard.")])],-1)),s("div",nt,[s("div",rt,[s("div",dt,[e[111]||(e[111]=s("div",{class:"card-icon"},"üé≠",-1)),e[112]||(e[112]=s("h3",null,"Preset Themes",-1)),s("button",pt,[(r(),n("svg",ut))])]),e[113]||(e[113]=b('<div class="card-body"><div class="theme-grid"><div class="theme-preview-card active" data-theme="dark"><div class="theme-swatch dark-swatch"></div><span class="theme-label">Cloudy Dark</span></div><div class="theme-preview-card" data-theme="black"><div class="theme-swatch black-swatch"></div><span class="theme-label">Absolute Black</span></div><div class="theme-preview-card" data-theme="light"><div class="theme-swatch light-swatch"></div><span class="theme-label">Clean Light</span></div><div class="theme-preview-card" data-theme="neon"><div class="theme-swatch neon-swatch"></div><span class="theme-label">Cyber Neon</span></div><div class="theme-preview-card" data-theme="glassy"><div class="theme-swatch glassy-swatch"></div><span class="theme-label">Glassy Blue</span></div></div></div>',1))]),e[136]||(e[136]=b('<div class="card"><div class="card-header"><div class="card-icon">‚ú®</div><h3>Theme Creator</h3></div><div class="card-body"><p class="description">Create your own personalized appearance by adjusting the colors below.</p><div class="color-creator-grid"><div class="input-wrapper"><label>Background</label><input type="color" id="themeColorBg" value="#0b1437"></div><div class="input-wrapper"><label>Sidebar</label><input type="color" id="themeColorSidebar" value="#111c44"></div><div class="input-wrapper"><label>Accent</label><input type="color" id="themeColorAccent" value="#7551FF"></div><div class="input-wrapper"><label>Text</label><input type="color" id="themeColorText" value="#ffffff"></div></div><div class="button-group" style="margin-top:20px;"><button id="ApplyCustomThemeBtn" class="btn btn-primary">Apply Custom Theme</button><button id="ResetThemeBtn" class="btn btn-ghost">Reset to Default</button></div></div></div>',1)),s("div",ct,[s("div",vt,[e[118]||(e[118]=s("div",{class:"card-header"},[s("div",{class:"card-icon"},"üñºÔ∏è"),s("h3",null,"Highlight Styles")],-1)),s("div",gt,[s("div",bt,[e[115]||(e[115]=s("label",{class:"feature-label"},[u(" Border Style "),s("span",{class:"feature-subtitle"},"Choose line style")],-1)),o(s("select",{id:"borderStyleSelect",class:"select-field","onUpdate:modelValue":e[28]||(e[28]=t=>l(a).appearance.borderStyle=t)},[...e[114]||(e[114]=[s("option",{value:"solid"},"Solid",-1),s("option",{value:"dashed"},"Dashed",-1),s("option",{value:"dotted"},"Dotted",-1)])],512),[[U,l(a).appearance.borderStyle]])]),e[117]||(e[117]=s("div",{class:"divider"},null,-1)),s("div",mt,[e[116]||(e[116]=s("label",null,"Highlight Thickness",-1)),s("span",yt,c(l(a).appearance.highlightThickness)+"px",1)]),o(s("input",{type:"range",id:"borderThicknessRange",min:"1",max:"10","onUpdate:modelValue":e[29]||(e[29]=t=>l(a).appearance.highlightThickness=t),class:"range-slider"},null,512),[[F,l(a).appearance.highlightThickness,void 0,{number:!0}]])])]),s("div",ht,[e[135]||(e[135]=s("div",{class:"card-header"},[s("div",{class:"card-icon"},"üìö"),s("h3",null,"Library Styles")],-1)),s("div",ft,[s("div",wt,[e[120]||(e[120]=s("label",{class:"feature-label"},[u(" Show Status Borders "),s("span",{class:"feature-subtitle"},"Color borders in library")],-1)),s("label",xt,[o(s("input",{type:"checkbox",id:"LibraryCardBordersEnabled","onUpdate:modelValue":e[30]||(e[30]=t=>l(a).appearance.libraryData.showBorders=t)},null,512),[[i,l(a).appearance.libraryData.showBorders]]),e[119]||(e[119]=s("span",{class:"slider round"},null,-1))])]),s("div",kt,[e[122]||(e[122]=s("label",{class:"feature-label"},[u(" Only Show with History "),s("span",{class:"feature-subtitle"},"Hide entries with no progress")],-1)),s("label",St,[o(s("input",{type:"checkbox",id:"LibraryHideNoHistory","onUpdate:modelValue":e[31]||(e[31]=t=>l(a).appearance.libraryData.hideNoHistory=t)},null,512),[[i,l(a).appearance.libraryData.hideNoHistory]]),e[121]||(e[121]=s("span",{class:"slider round"},null,-1))])]),e[132]||(e[132]=s("div",{class:"divider"},null,-1)),s("div",Ct,[e[123]||(e[123]=s("label",null,"Border Thickness",-1)),s("span",Dt,c(l(a).appearance.libraryData.borderThickness)+"px",1)]),o(s("input",{type:"range",id:"LibraryCardBorderThickness",min:"1",max:"10","onUpdate:modelValue":e[32]||(e[32]=t=>l(a).appearance.libraryData.borderThickness=t),class:"range-slider"},null,512),[[F,l(a).appearance.libraryData.borderThickness,void 0,{number:!0}]]),e[133]||(e[133]=s("div",{class:"divider"},null,-1)),e[134]||(e[134]=s("p",{class:"section-label"},"‚ú® Visual Effects",-1)),s("div",At,[e[125]||(e[125]=s("label",{class:"feature-label"},[u(" Glow Effect "),s("span",{class:"feature-subtitle"},"Use glow instead of solid borders")],-1)),s("label",Mt,[o(s("input",{type:"checkbox",id:"LibraryGlowEffect","onUpdate:modelValue":e[33]||(e[33]=t=>l(a).appearance.libraryData.glowEffect=t)},null,512),[[i,l(a).appearance.libraryData.glowEffect]]),e[124]||(e[124]=s("span",{class:"slider round"},null,-1))])]),s("div",Rt,[e[127]||(e[127]=s("label",{class:"feature-label"},[u(" Animated Borders "),s("span",{class:"feature-subtitle"},'Pulse animation for "Reading" status')],-1)),s("label",Bt,[o(s("input",{type:"checkbox",id:"LibraryAnimatedBorders","onUpdate:modelValue":e[34]||(e[34]=t=>l(a).appearance.libraryData.animatedBorders=t)},null,512),[[i,l(a).appearance.libraryData.animatedBorders]]),e[126]||(e[126]=s("span",{class:"slider round"},null,-1))])]),s("div",Lt,[e[129]||(e[129]=s("label",{class:"feature-label"},[u(" Status Icons "),s("span",{class:"feature-subtitle"},"Show emoji overlay on cards")],-1)),s("label",Vt,[o(s("input",{type:"checkbox",id:"LibraryStatusIcons","onUpdate:modelValue":e[35]||(e[35]=t=>l(a).appearance.libraryData.statusIcons=t)},null,512),[[i,l(a).appearance.libraryData.statusIcons]]),e[128]||(e[128]=s("span",{class:"slider round"},null,-1))])]),s("div",Et,[e[131]||(e[131]=s("label",{class:"feature-label"},[u(" Progress Bars "),s("span",{class:"feature-subtitle"},"Reading progress on card covers")],-1)),s("label",Ut,[o(s("input",{type:"checkbox",id:"LibraryProgressBars","onUpdate:modelValue":e[36]||(e[36]=t=>l(a).appearance.libraryData.progressBars=t)},null,512),[[i,l(a).appearance.libraryData.progressBars]]),e[130]||(e[130]=s("span",{class:"slider round"},null,-1))])])])])])])],512),[[D,v.value==="appearance"]]),o(s("div",Ft,[...e[138]||(e[138]=[b('<header class="header"><div class="header-text"><h1>About</h1><p class="subtitle">Information, usage guide, and credits.</p></div></header><div class="content-grid"><div class="card"><div class="card-body prose"><h2>MangaFire Bookmark Color Marker</h2><p>A powerful Chrome Extension for MangaFire.to.</p></div></div></div>',2)])],512),[[D,v.value==="about"]]),s("button",{id:"scrollToTopBtn",class:f(["scroll-to-top",{show:N.value}]),title:"Go to top",onClick:es},[(r(),n("svg",Ht))],2),s("div",{id:"mangaDetailModal",class:f(["modal-overlay",{active:B.value}]),onClick:k(P,["self"])},[d.value?(r(),n("div",Tt,[s("button",{class:"modal-close",id:"modalCloseBtn",onClick:P},"√ó"),s("div",_t,[s("div",It,[s("img",{src:I(d.value),alt:"Cover",class:"modal-cover"},null,8,Pt),s("div",Nt,[s("div",zt,[e[139]||(e[139]=s("span",{class:"modal-meta-label"},"Status",-1)),s("div",{class:f(["manga-card-status",(g=d.value.status)==null?void 0:g.toLowerCase().replace(" ","-")])},c(d.value.status),3)]),s("div",Ot,[e[140]||(e[140]=s("span",{class:"modal-meta-label"},"Format",-1)),s("div",jt,c(d.value.format||"Unknown"),1)]),s("div",Gt,[e[141]||(e[141]=s("span",{class:"modal-meta-label"},"Popularity",-1)),s("div",$t,c(d.value.popularity||"-"),1)]),s("div",Jt,[e[142]||(e[142]=s("span",{class:"modal-meta-label"},"Average Score",-1)),s("div",Yt,[s("span",Wt,c(d.value.averageScore?d.value.averageScore+"%":"-"),1)])]),s("div",Kt,[e[143]||(e[143]=s("span",{class:"modal-meta-label"},"Released",-1)),s("div",Zt,c(d.value.startDate?d.value.startDate.year:"-"),1)]),e[144]||(e[144]=b('<div class="modal-meta-row" id="modalHistoryRow"><span class="modal-meta-label">History</span><div class="modal-history-actions"><button class="btn btn-ghost btn-sm" style="padding:2px 8px;font-size:11px;">Show Chapters</button><button class="btn btn-primary btn-sm" style="padding:2px 8px;font-size:11px;" title="Mark all chapters as read up to total">‚úì Mark All Read</button></div><div id="modalReadChaptersList" class="modal-chapters-list" style="display:none;"></div></div>',1))])]),s("div",qt,[s("h2",null,c(d.value.title),1),d.value.synonyms&&d.value.synonyms.length?(r(),n("div",Xt," Alternative Titles: "+c(d.value.synonyms.slice(0,3).join(", ")),1)):w("",!0),s("div",Qt,[(r(!0),n(G,null,$(d.value.genres,t=>(r(),n("span",{key:t,class:"genre-tag"},c(t),1))),128))]),s("div",sa,[e[145]||(e[145]=s("h3",null,"Synopsis",-1)),s("p",{innerHTML:d.value.description||"No description available."},null,8,ea)]),s("div",ta,[d.value.idMal?(r(),n("a",{key:0,href:"https://myanimelist.net/manga/"+d.value.idMal,target:"_blank",class:"external-link"},"MAL",8,aa)):w("",!0),d.value.id?(r(),n("a",{key:1,href:"https://anilist.co/manga/"+d.value.id,target:"_blank",class:"external-link"},"AniList",8,la)):w("",!0)])])])])):w("",!0)],2)])])}}},J=rs(oa),ia=as();J.use(ia);J.mount("#app");
