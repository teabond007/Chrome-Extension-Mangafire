import{c as C}from"./pinia-B2MPvubg.js";import{o as x,r,a as E,c as i,l as v,f as c,b as t,t as o,i as b,d as I,m as N,y as T,F as A,q as L,g as R}from"./runtime-dom.esm-bundler-Drjs8M-n.js";import{u as S}from"./useLibrary-9nf_fl4j.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css             */import"./storage-schema-ZmkWod5v.js";const U={key:0,class:"dashboard-container"},B={class:"dashboard-content"},V={class:"hero-section"},M={class:"clock"},P={class:"greeting"},F={class:"search-section"},K={class:"search-wrapper"},O={class:"continue-section"},$={class:"manga-grid"},q=["onClick"],H=["src","alt"],j={class:"manga-card-overlay"},z={class:"manga-card-title"},J={class:"manga-card-progress"},Q={key:0,class:"empty-state"},W={__name:"App",setup(Z){const n=r(!0),l=r(!0),p=r(""),{entriesArray:y}=S(),d=r("");let u=null;const w=b(()=>{const e=new Date().getHours();return e<5?"Good night":e<12?"Good morning":e<18?"Good afternoon":"Good evening"}),h=b(()=>y.value.filter(e=>e.status==="Reading"||e.status==="READING").sort((e,a)=>(a.lastReadDate||0)-(e.lastReadDate||0)).slice(0,10));function m(){const e=new Date;p.value=e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}function g(){d.value.trim()&&chrome.runtime.openOptionsPage()}function k(e){const a=e.sourceUrl||e.mangafireUrl||(e.mangadexId?`https://mangadex.org/title/${e.mangadexId}`:null);a&&chrome.tabs.create({url:a})}function _(){chrome.runtime.openOptionsPage()}async function D(){try{const e=await chrome.storage.local.get("NewTabDashboardfeatureEnabled");if(n.value=e.NewTabDashboardfeatureEnabled===!0,!n.value){window.location.replace("https://www.google.com");return}l.value=!1}catch(e){console.error("[NewTab] Error checking dashboard state:",e),l.value=!1}}return x(async()=>{await D(),n.value&&(m(),u=setInterval(m,1e3))}),E(()=>{u&&clearInterval(u)}),(e,a)=>!l.value&&n.value?(c(),i("div",U,[a[3]||(a[3]=t("div",{class:"dashboard-bg"},null,-1)),t("main",B,[t("section",V,[t("time",M,o(p.value),1),t("h1",P,o(w.value),1)]),t("section",F,[t("div",K,[I(t("input",{type:"text",class:"search-input",placeholder:"Search your library...","onUpdate:modelValue":a[0]||(a[0]=s=>d.value=s),onKeyup:T(g,["enter"])},null,544),[[N,d.value]]),t("button",{class:"search-btn",onClick:g}," ðŸ” ")])]),t("section",O,[t("div",{class:"section-header"},[a[1]||(a[1]=t("h2",{class:"section-title"},"Continue Reading",-1)),t("button",{class:"btn btn-ghost",onClick:_}," View All â†’ ")]),t("div",$,[(c(!0),i(A,null,L(h.value,s=>(c(),i("article",{key:s.id,class:"manga-card card-interactive",onClick:ee=>k(s)},[t("img",{src:s.cover,alt:s.title,class:"manga-card-image"},null,8,H),t("div",j,[t("h3",z,o(s.title),1),t("p",J," Ch. "+o(s.lastChapter)+" / "+o(s.totalChapters||"?"),1)])],8,q))),128)),h.value.length===0?(c(),i("div",Q,[a[2]||(a[2]=t("p",null,"No manga in progress",-1)),t("button",{class:"btn btn-primary",onClick:_}," Browse Library ")])):v("",!0)])])])])):v("",!0)}},X=G(W,[["__scopeId","data-v-cee36011"]]),f=R(X),Y=C();f.use(Y);f.mount("#app");
