import{C as a,R as c}from"./ReaderEnhancer-CfTr4VsM.js";import"./storage-schema-DbDZlffU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./config-C-HYl_Rw.js";const s={id:"webtoons",name:"Webtoons",unitName:"episode",selectors:{card:'.daily_card_item, .ranking_item, .challenge_item, li[class*="card"], .item_list li, .card_item',cardTitle:".title, .subj, .info .subj, p.subj",cardLink:'a[href*="/webtoon/"], a[href*="/challenge/"], a[href*="title_no"]',cardCover:".thumb img, .pic img, img"},extractCardData(e){try{const t=e.querySelector(this.selectors.cardLink)||(e.tagName==="A"?e:null);if(!t)return null;const i=t.href,o=this.extractInfoFromUrl(i);let r="";const n=e.querySelector(this.selectors.cardTitle);return n?r=n.textContent.trim():t.title?r=t.title:r=t.textContent.trim(),{title:r,url:i,id:o.titleNo,slug:o.slug}}catch(t){return console.warn("[Webtoons] Error extracting card data",t),null}},extractInfoFromUrl(e){if(!e)return{titleNo:"",slug:""};try{const t=new URL(e),i=t.pathname.match(/\/(?:webtoon|challenge|canvas)\/([^/]+)\/([^/]+)/);let o="";const r=t.pathname.split("/").filter(l=>l),n=r.findIndex(l=>["fantasy","action","romance","drama","thriller","horror","comedy","slice-of-life","sf","supernatural","sports","historical","tiptoon"].includes(l));return n!==-1&&r[n+1]?o=r[n+1]:r.length>=3&&(o=r[2]),{titleNo:t.searchParams.get("title_no")||"",slug:o||r[r.length-2]}}catch{return{titleNo:"",slug:""}}},applyBorder(e,t){e.style.border=`3px solid ${t}`,e.style.borderRadius="8px",e.style.boxSizing="border-box",getComputedStyle(e).position==="static"&&(e.style.position="relative")},isReaderPage(){return window.location.href.includes("/viewer")&&window.location.href.includes("episode_no")},parseUrl(e){const t=this.extractInfoFromUrl(e),o=new URL(e).searchParams.get("episode_no");return t.titleNo&&o?{id:t.titleNo,slug:t.slug,chapterNo:o}:null},goToNextChapter(){const e=document.querySelector(".pg_next");e&&e.click()},goToPrevChapter(){const e=document.querySelector(".pg_prev");e&&e.click()}},u=new a(s);u.init();s.isReaderPage()&&new c(s).init();console.log("[Webtoons] Enhancer loaded.");
