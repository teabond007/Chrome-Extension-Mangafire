var x=Object.defineProperty;var S=r=>{throw TypeError(r)};var B=(r,e,t)=>e in r?x(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var a=(r,e,t)=>B(r,typeof e!="symbol"?e+"":e,t),b=(r,e,t)=>e.has(r)||S("Cannot "+t);var n=(r,e,t)=>(b(r,e,"read from private field"),t?t.call(r):e.get(r)),c=(r,e,t)=>e.has(r)?S("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),l=(r,e,t,s)=>(b(r,e,"write to private field"),s?s.call(r,t):e.set(r,t),t);const f={Reading:"#4ade80",Completed:"#60a5fa","Plan to Read":"#fbbf24","On-Hold":"#f97316","On Hold":"#f97316",Dropped:"#ef4444","Re-reading":"#a855f7",HasHistory:"#9ca3af"},y={size:4,style:"solid",radius:"8px"},u={highlighting:!0,progressBadges:!0,quickActions:!0,notifications:!0,autoScroll:!0,keyboardShortcuts:!0,newChapterBadge:!0,autoSync:!1,customBookmarks:!1,markHomePage:!1,syncAndMarkRead:!1,newTabDashboard:!1,webtoonsHighlight:!0,familyFriendly:!1},h={ArrowRight:"nextPage",ArrowLeft:"prevPage",ArrowDown:"scrollDown",ArrowUp:"scrollUp",Space:"toggleAutoScroll",Escape:"exitReader",f:"toggleFullscreen",b:"toggleBookmark",s:"toggleSubscribe",n:"nextChapter",p:"prevChapter"},p={checkIntervalMinutes:30,maxBatchSize:50,rateLimitMs:500},C={"cloudy-dark":{name:"Cloudy Dark",bgBody:"#0a0e14",bgSidebar:"#151a21",bgSurface:"#1a1f27",bgElevated:"#242a33",accentPrimary:"#ff6b6b",accentSecondary:"#4ecdc4",textPrimary:"#ffffff",textSecondary:"#9ca3af",textMuted:"#6b7280",border:"#2d3748"},"midnight-blue":{name:"Midnight Blue",bgBody:"#0f172a",bgSidebar:"#1e293b",bgSurface:"#1e293b",bgElevated:"#334155",accentPrimary:"#60a5fa",accentSecondary:"#a855f7",textPrimary:"#f8fafc",textSecondary:"#94a3b8",textMuted:"#64748b",border:"#475569"},forest:{name:"Forest",bgBody:"#0d1f0d",bgSidebar:"#1a2f1a",bgSurface:"#1a2f1a",bgElevated:"#2d4a2d",accentPrimary:"#4ade80",accentSecondary:"#86efac",textPrimary:"#f0fdf4",textSecondary:"#86efac",textMuted:"#6b9b6b",border:"#365936"}},k={small:{width:"150px",height:"225px"},medium:{width:"180px",height:"270px"},large:{width:"220px",height:"330px"}};var o,d;const i=class i{constructor(){a(this,"statusColors",{...f});a(this,"border",{...y});a(this,"features",{...u});a(this,"keybinds",{...h});a(this,"notification",{...p});a(this,"theme","cloudy-dark");a(this,"cardSize","medium");a(this,"platforms",{})}static getInstance(){return n(this,o)||l(this,o,new i),n(this,o)}static async load(){const e=this.getInstance();if(n(this,d))return e;try{const t=await chrome.storage.local.get(["statusColors","BorderStyle","CustomBorderSize","features","keybinds","platformSettings","currentTheme","cardSize"]);t.statusColors&&(e.statusColors={...f,...t.statusColors}),t.BorderStyle&&(e.border.style=t.BorderStyle),t.CustomBorderSize&&(e.border.size=t.CustomBorderSize),t.features&&(e.features={...u,...t.features}),t.keybinds&&(e.keybinds={...h,...t.keybinds}),t.currentTheme&&(e.theme=t.currentTheme),t.cardSize&&(e.cardSize=t.cardSize),t.platformSettings&&(e.platforms=t.platformSettings),l(this,d,!0),console.log("[Config] ✓ Loaded configuration")}catch(t){console.error("[Config] Failed to load:",t)}return e}getStatusColor(e){return this.statusColors[e]||"transparent"}isFeatureEnabled(e){return this.features[e]??!1}getPlatformSetting(e,t,s=null){var m;return((m=this.platforms[e])==null?void 0:m[t])??s}getTheme(){return C[this.theme]||C["cloudy-dark"]}getCardSize(){return k[this.cardSize]||k.medium}async save(){try{await chrome.storage.local.set({statusColors:this.statusColors,BorderStyle:this.border.style,CustomBorderSize:this.border.size,features:this.features,keybinds:this.keybinds,platformSettings:this.platforms,currentTheme:this.theme,cardSize:this.cardSize}),console.log("[Config] ✓ Saved configuration")}catch(e){console.error("[Config] Failed to save:",e)}}async set(e,t,s=!0){e in this&&(this[e]=t),s&&await this.save()}async reset(e=!0){this.statusColors={...f},this.border={...y},this.features={...u},this.keybinds={...h},this.notification={...p},this.theme="cloudy-dark",this.cardSize="medium",this.platforms={},e&&await this.save()}};o=new WeakMap,d=new WeakMap,c(i,o,null),c(i,d,!1);let g=i;const w=g;export{y as B,k as C,u as F,f as S,C as T,w as a};
