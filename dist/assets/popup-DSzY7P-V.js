import{_ as x,o as V,c as p,a as t,b as k,d as C,e as U,t as n,u as i,r as w,f as d,g as m,h as A,i as B}from"./main-B0rinBDx.js";import{_ as I}from"./logo-CshComA1.js";import{u as T}from"./useLibrary-DABP6zvl.js";import{u as D}from"./useSettings-o_ZLZh7Z.js";import{B as M}from"./BaseToggle-D1g3GOVz.js";/* empty css                                                                   */import"./storage-schema-i3DC1Zp8.js";const N={class:"popup-container"},S={class:"popup-header"},L={class:"popup-content"},R={class:"quick-stats"},q={class:"stat-card"},E={class:"stat-value"},O={class:"stat-card"},P={class:"stat-value"},W={class:"stat-card"},j={class:"stat-value"},z={key:0,class:"current-manga"},F={class:"manga-info card"},G=["src","alt"],H={class:"manga-details"},J={class:"manga-title"},K={class:"manga-progress"},Q={__name:"App",setup(Z){const{stats:r,entriesArray:_}=T(),{features:h,updateSetting:v}=D(),c=C({get:()=>h.value.highlighting,set:a=>v("features.highlighting",a)}),e=w(null);function f(){chrome.runtime.openOptionsPage()}function b(){chrome.tabs.create({url:chrome.runtime.getURL("newtab/index.html")})}async function y(){var l,u;const[a]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!(a!=null&&a.url))return;const s=_.value.find(o=>o.sourceUrl&&a.url.includes(o.sourceUrl)||o.mangafireUrl&&a.url.includes(o.mangafireUrl)||o.mangadexId&&a.url.includes(o.mangadexId));s&&(e.value={title:s.title,cover:((u=(l=s.anilistData)==null?void 0:l.coverImage)==null?void 0:u.medium)||s.coverImage||"https://via.placeholder.com/48x72",chapter:s.lastReadChapter||"?",status:s.status})}return V(()=>{y()}),(a,s)=>(m(),p("div",N,[t("header",S,[s[1]||(s[1]=t("div",{class:"popup-logo"},[t("img",{src:I,alt:"Logo",width:"24",height:"24"}),t("h1",{class:"popup-title"},"Manga Manager")],-1)),k(M,{modelValue:c.value,"onUpdate:modelValue":s[0]||(s[0]=l=>c.value=l),"aria-label":"Toggle extension"},null,8,["modelValue"])]),t("main",L,[t("section",R,[t("div",q,[t("span",E,n(i(r).reading),1),s[2]||(s[2]=t("span",{class:"stat-label"},"Reading",-1))]),t("div",O,[t("span",P,n(i(r).completed),1),s[3]||(s[3]=t("span",{class:"stat-label"},"Completed",-1))]),t("div",W,[t("span",j,n(i(r).total),1),s[4]||(s[4]=t("span",{class:"stat-label"},"Total",-1))])]),e.value?(m(),p("section",z,[s[5]||(s[5]=t("h2",{class:"section-title"},"Currently Viewing",-1)),t("div",F,[t("img",{src:e.value.cover,alt:e.value.title,class:"manga-cover"},null,8,G),t("div",H,[t("h3",J,n(e.value.title),1),t("p",K,"Chapter "+n(e.value.chapter),1)])])])):U("",!0)]),t("footer",{class:"popup-footer"},[t("button",{class:"btn btn-ghost",onClick:f},[...s[6]||(s[6]=[t("span",null,"‚öôÔ∏è",-1),d(" Settings ",-1)])]),t("button",{class:"btn btn-primary",onClick:b},[...s[7]||(s[7]=[t("span",null,"üìö",-1),d(" Dashboard ",-1)])])])]))}},X=x(Q,[["__scopeId","data-v-94da2921"]]),g=A(X),Y=B();g.use(Y);g.mount("#app");
